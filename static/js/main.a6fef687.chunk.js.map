{"version":3,"sources":["components/button.jsx","components/tab-selector.jsx","components/editor-buttons.jsx","components/tab-editor.jsx","components/code-modal.jsx","components/app.jsx","index.js"],"names":["Button","styled","button","Wrapper","div","DefaultButton","CreateButton","TabSelector","props","tabs","map","tab","key","id","onClick","select","name","create","disabled","secondary","EditorButtons","save","isModified","reset","delete","Input","input","getEditorStateFromContent","content","contentBlock","htmlToDraft","nodeName","node","type","mutability","data","src","alt","width","height","contentState","ContentState","createFromBlockArray","contentBlocks","EditorState","createWithContent","getContentFromEditorState","editorState","raw","convertToRaw","getCurrentContent","draftToHtml","TabEditor","useState","createEmpty","setEditorState","setName","state","setState","useEffect","__editorState","replace","style","display","window","confirm","back","value","placeholder","onChange","e","target","onEditorStateChange","editorStyle","border","padding","overflow","stripPastedStyles","updateTab","alert","deleteTab","Dialog","CodeBlock","code","CodeModal","dismiss","stopPropagation","children","action","method","JSON","stringify","title","html","Viewport","Container","length","activeIndex","Frame","App","defaultTabs","uuid","convertFromHTML","importRawHtml","setTabs","activeTab","setActiveTab","setActiveIndex","setHtml","modalShown","setModalShown","setTimeout","selectedTab","find","newTab","i","join","getHtmlFromTabData","__tabs","index","findIndex","originalTab","splice","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.a6fef687.chunk.js","sourcesContent":["import styled from 'styled-components'\n\nconst Button = styled.button`\n  background: white;\n  color: #001659;\n  border: 1px solid #001659;\n  padding: 0.5em 1em;\n`\n\nexport default Button\n","import React from 'react'\r\nimport styled from 'styled-components'\r\nimport DefaultButton from './button'\r\n\r\nconst TabSelector = props => {\r\n  return (\r\n    <Wrapper>\r\n      <h2>Select a Tab</h2>\r\n      {props.tabs.map(tab => (\r\n        <Button key={tab.id} onClick={() => props.select(tab.id)}>\r\n          {tab.name}\r\n        </Button>\r\n      ))}\r\n      <CreateButton onClick={props.create}>+</CreateButton>\r\n    </Wrapper>\r\n  )\r\n}\r\n\r\nconst Wrapper = styled.div``\r\n\r\nconst Button = styled(DefaultButton)`\r\n  font-size: 1rem;\r\n  margin: 1rem;\r\n`\r\n\r\nconst CreateButton = styled(Button)`\r\n  background: #001659;\r\n  color: white;\r\n  font-weight: bold;\r\n`\r\n\r\nexport default TabSelector\r\n","import React from 'react'\r\nimport styled from 'styled-components'\r\nimport DefaultButton from './button'\r\n\r\nconst EditorButtons = props => {\r\n  return (\r\n    <Wrapper>\r\n      <Button onClick={props.save} disabled={!props.isModified}>\r\n        Save\r\n      </Button>\r\n      <Button onClick={props.reset} disabled={!props.isModified} secondary>\r\n        Reset\r\n      </Button>\r\n      <Button onClick={props.delete} secondary>\r\n        Delete\r\n      </Button>\r\n    </Wrapper>\r\n  )\r\n}\r\n\r\nconst Wrapper = styled.div`\r\n  display: flex;\r\n\r\n  & > * {\r\n    margin-right: 1rem;\r\n  }\r\n`\r\n\r\nconst Button = styled(DefaultButton)`\r\n  font-size: 1rem;\r\n  padding: 0.5em 1em;\r\n  background: ${props =>\r\n    props.disabled ? '#eee' : props.secondary ? 'white' : '#001659'};\r\n  color: ${props =>\r\n    props.disabled ? '#777' : props.secondary ? '#001659' : 'white'};\r\n  border: ${props =>\r\n    props.disabled ? '#eee' : props.secondary ? '1px solid #001659' : 'none'};\r\n`\r\n\r\nexport default EditorButtons\r\n","import React, { useState, useEffect } from 'react'\r\nimport styled from 'styled-components'\r\nimport { Editor } from 'react-draft-wysiwyg'\r\nimport { EditorState, ContentState, convertToRaw } from 'draft-js'\r\nimport Button from './button'\r\nimport EditorButtons from './editor-buttons'\r\nimport draftToHtml from 'draftjs-to-html'\r\nimport htmlToDraft from 'html-to-draftjs'\r\nimport 'react-draft-wysiwyg/dist/react-draft-wysiwyg.css'\r\n\r\nconst TabEditor = props => {\r\n  const [editorState, setEditorState] = useState(EditorState.createEmpty())\r\n  const [name, setName] = useState(props.tab.name)\r\n  const [state, setState] = useState('init')\r\n\r\n  useEffect(() => {\r\n    setName(props.tab.name)\r\n    const __editorState = getEditorStateFromContent(props.tab.content)\r\n    if (__editorState) setEditorState(__editorState)\r\n  }, [props.tab])\r\n\r\n  useEffect(() => {\r\n    const content = getContentFromEditorState(editorState)\r\n\r\n    if (state === 'modified') {\r\n      if (\r\n        content === props.tab.content.replace(/[\\r\\n]$/, '') &&\r\n        name === props.tab.name\r\n      ) {\r\n        setState('ready')\r\n      }\r\n    } else {\r\n      if (\r\n        content !== props.tab.content.replace(/[\\r\\n]$/, '') ||\r\n        name !== props.tab.name\r\n      ) {\r\n        setState('modified')\r\n      }\r\n    }\r\n  }, [editorState, name, props.tab.content, props.tab.name, state])\r\n\r\n  const back = () => {\r\n    if (\r\n      state === 'modified' &&\r\n      !window.confirm('Changes you have made will be lost. Continue?')\r\n    ) {\r\n      return\r\n    }\r\n\r\n    const __editorState = getEditorStateFromContent(props.tab.content)\r\n    setEditorState(__editorState)\r\n    setName(props.tab.name)\r\n\r\n    setState('init')\r\n    props.back()\r\n  }\r\n\r\n  const saveTab = () => {\r\n    if (!name) {\r\n      window.alert('Tab name must not be blank.')\r\n      return\r\n    }\r\n\r\n    const content = getContentFromEditorState(editorState)\r\n\r\n    props.updateTab({\r\n      id: props.tab.id,\r\n      name,\r\n      content,\r\n    })\r\n    props.back()\r\n  }\r\n\r\n  const resetTab = () => {\r\n    setName(props.tab.name)\r\n\r\n    const __editorState = getEditorStateFromContent(props.tab.content)\r\n    if (__editorState) setEditorState(__editorState)\r\n  }\r\n\r\n  const deleteTab = () => {\r\n    if (\r\n      window.confirm(\r\n        'Are you sure you want to delete this tab? This action cannot be undone.'\r\n      )\r\n    ) {\r\n      props.deleteTab(props.tab.id)\r\n      props.back()\r\n    }\r\n  }\r\n\r\n  return (\r\n    <Wrapper>\r\n      <Button style={{ display: 'block' }} onClick={back}>\r\n        Back\r\n      </Button>\r\n      <Input\r\n        value={name}\r\n        placeholder=\"Tab name\"\r\n        onChange={e => setName(e.target.value)}\r\n      />\r\n      <Editor\r\n        editorState={editorState}\r\n        onEditorStateChange={setEditorState}\r\n        editorStyle={{\r\n          border: '1px solid #f1f1ff',\r\n          padding: '0 1rem',\r\n          height: '10rem',\r\n          overflow: 'auto',\r\n        }}\r\n        stripPastedStyles={false}\r\n      />\r\n      <EditorButtons\r\n        isModified={state === 'modified'}\r\n        save={saveTab}\r\n        reset={resetTab}\r\n        delete={deleteTab}\r\n      />\r\n    </Wrapper>\r\n  )\r\n}\r\n\r\nconst Wrapper = styled.div`\r\n  width: 100%;\r\n  max-width: calc(800px - 4rem);\r\n  position: relative;\r\n  top: 0;\r\n  left: 0;\r\n\r\n  & > * {\r\n    margin: 1rem;\r\n  }\r\n`\r\n\r\nconst Input = styled.input`\r\n  font-size: 1.2rem;\r\n  padding: 0.3em 0.8em;\r\n`\r\n\r\nfunction getEditorStateFromContent(content) {\r\n  const contentBlock = htmlToDraft(content, (nodeName, node) => {\r\n    if (nodeName === 'img') {\r\n      return {\r\n        type: 'IMAGE',\r\n        mutability: 'IMMUTABLE',\r\n        data: {\r\n          src: node.src,\r\n          alt: node.alt,\r\n          width: '90%',\r\n          height: 'auto',\r\n        },\r\n      }\r\n    }\r\n  })\r\n  if (contentBlock) {\r\n    const contentState = ContentState.createFromBlockArray(\r\n      contentBlock.contentBlocks\r\n    )\r\n    const editorState = EditorState.createWithContent(contentState)\r\n    return editorState\r\n  } else {\r\n    return null\r\n  }\r\n}\r\n\r\nfunction getContentFromEditorState(editorState) {\r\n  const raw = convertToRaw(editorState.getCurrentContent())\r\n  const content = draftToHtml(raw)\r\n\r\n  return content === '<p></p>' ? '' : content\r\n}\r\n\r\nexport default TabEditor\r\n","import React from 'react'\r\nimport styled from 'styled-components'\r\nimport DefaultButton from './button'\r\n\r\nconst CodeModal = props => {\r\n  return (\r\n    <Wrapper onClick={props.dismiss}>\r\n      <Dialog onClick={e => e.stopPropagation()}>\r\n        <CodeBlock>{props.children}</CodeBlock>\r\n        <form\r\n          action=\"https://codepen.io/pen/define\"\r\n          method=\"POST\"\r\n          target=\"_blank\"\r\n        >\r\n          <input\r\n            type=\"hidden\"\r\n            name=\"data\"\r\n            value={JSON.stringify({\r\n              title: 'Listify Preview',\r\n              html: props.children,\r\n            })}\r\n          />\r\n\r\n          <Button>Preview on CodePen</Button>\r\n        </form>\r\n      </Dialog>\r\n    </Wrapper>\r\n  )\r\n}\r\n\r\nconst Wrapper = styled.div`\r\n  position: fixed;\r\n  top: 0;\r\n  left: 0;\r\n  width: 100%;\r\n  height: 100%;\r\n  background: rgba(0, 0, 0, 0.3);\r\n`\r\n\r\nconst Dialog = styled.div`\r\n  position: absolute;\r\n  top: 30%;\r\n  left: 50%;\r\n  transform: translate(-50%, -50%);\r\n  min-width: 400px;\r\n  background: white;\r\n  box-shadow: 0 7px 10px #777;\r\n  padding: 2rem;\r\n`\r\n\r\nconst CodeBlock = styled.code`\r\n  background: #f0f0ff;\r\n  font-family: 'Courier New', Courier, monospace;\r\n  max-height: 10em;\r\n  overflow: auto;\r\n  display: block;\r\n  padding: 1rem;\r\n`\r\n\r\nconst Button = styled(DefaultButton)`\r\n  margin: 1rem auto;\r\n`\r\n\r\nexport default CodeModal\r\n","import React, { useState, useEffect } from 'react'\r\nimport styled from 'styled-components'\r\nimport TabSelector from './tab-selector'\r\nimport TabEditor from './tab-editor'\r\nimport defaultTabs from '../static/tabs.json'\r\nimport DefaultButton from './button'\r\nimport CodeModal from './code-modal'\r\nimport { v4 as uuid } from 'uuid'\r\nimport draftToHtml from 'draftjs-to-html'\r\nimport {\r\n  ContentState,\r\n  EditorState,\r\n  convertToRaw,\r\n  convertFromHTML,\r\n} from 'draft-js'\r\n\r\nconst App = () => {\r\n  const [tabs, setTabs] = useState(\r\n    defaultTabs.map(tab => {\r\n      tab.id = uuid()\r\n      tab.content = importRawHtml(tab.content)\r\n      return tab\r\n    })\r\n  )\r\n  const [activeTab, setActiveTab] = useState(null)\r\n  const [activeIndex, setActiveIndex] = useState(0)\r\n  const [html, setHtml] = useState('')\r\n  const [modalShown, setModalShown] = useState(false)\r\n\r\n  useEffect(() => {\r\n    if (activeIndex === 0) setTimeout(() => setActiveTab(null), 200)\r\n  }, [activeIndex])\r\n\r\n  const handleTabSelect = id => {\r\n    const selectedTab = tabs.find(tab => tab.id === id)\r\n    if (!selectedTab) return\r\n\r\n    setActiveTab(selectedTab)\r\n    setActiveIndex(1)\r\n  }\r\n\r\n  const handleTabCreate = () => {\r\n    const newTab = {\r\n      id: uuid(),\r\n      name: 'New Tab',\r\n      content: '',\r\n    }\r\n\r\n    setTabs([...tabs, newTab])\r\n    setActiveTab(newTab)\r\n    setActiveIndex(1)\r\n  }\r\n\r\n  const handleHomeSelect = () => setActiveIndex(0)\r\n\r\n  const generateHtml = () => {\r\n    setHtml(getHtmlFromTabData(tabs))\r\n    setModalShown(true)\r\n  }\r\n\r\n  const updateTab = tab => {\r\n    const __tabs = [...tabs]\r\n    const index = __tabs.findIndex(originalTab => tab.id === originalTab.id)\r\n\r\n    if (index !== null) {\r\n      __tabs.splice(index, 1, tab)\r\n      setTabs(__tabs)\r\n    }\r\n  }\r\n\r\n  const deleteTab = id => {\r\n    const __tabs = [...tabs]\r\n    const index = __tabs.findIndex(tab => tab.id === id)\r\n    __tabs.splice(index, 1)\r\n\r\n    setTabs(__tabs)\r\n  }\r\n\r\n  const dismissModal = () => setModalShown(false)\r\n\r\n  return (\r\n    <Wrapper>\r\n      <Viewport>\r\n        <Container activeIndex={activeIndex}>\r\n          <Frame>\r\n            <TabSelector\r\n              tabs={tabs}\r\n              select={handleTabSelect}\r\n              create={handleTabCreate}\r\n            />\r\n            <Button onClick={generateHtml}>Generate HTML</Button>\r\n          </Frame>\r\n          <Frame>\r\n            {activeTab && (\r\n              <TabEditor\r\n                tab={activeTab}\r\n                updateTab={updateTab}\r\n                deleteTab={deleteTab}\r\n                back={handleHomeSelect}\r\n              />\r\n            )}\r\n          </Frame>\r\n        </Container>\r\n      </Viewport>\r\n      {modalShown && <CodeModal dismiss={dismissModal}>{html}</CodeModal>}\r\n    </Wrapper>\r\n  )\r\n}\r\n\r\nconst Wrapper = styled.div`\r\n  width: 90%;\r\n  max-width: 800px;\r\n  margin: auto;\r\n  padding: 2rem;\r\n  background: white;\r\n  box-shadow: 0 3px 4px #ccc;\r\n  margin-top: 5rem;\r\n`\r\nconst Viewport = styled.div`\r\n  width: 100%;\r\n  overflow-x: hidden;\r\n`\r\n\r\nconst Container = styled.div`\r\n  display: grid;\r\n  grid-template-columns: repeat(${props => props.children.length || 1}, 1fr);\r\n  width: calc(100% * ${props => props.children.length || 1});\r\n  transform: translateX(\r\n    calc(\r\n      -100% * ${props => (props.activeIndex || 0) / (props.children.length || 1)}\r\n    )\r\n  );\r\n  transition: transform 0.2s ease-in-out;\r\n`\r\n\r\nconst Frame = styled.div`\r\n  width: 100%;\r\n`\r\n\r\nconst Button = styled(DefaultButton)`\r\n  font-size: 1rem;\r\n  color: white;\r\n  background: #001659;\r\n  margin-top: 3rem;\r\n`\r\n\r\nfunction importRawHtml(html) {\r\n  const contentBlock = convertFromHTML(html)\r\n  const contentState = ContentState.createFromBlockArray(\r\n    contentBlock.contentBlocks\r\n  )\r\n  const editorState = EditorState.createWithContent(contentState)\r\n  const raw = convertToRaw(editorState.getCurrentContent())\r\n  const content = draftToHtml(raw).replace(/[\\r\\n]$/, '')\r\n\r\n  return content === '<p></p>' ? '' : content\r\n}\r\n\r\nfunction getHtmlFromTabData(tabs) {\r\n  const style = `<style>\r\n    #bam-tab-wrapper {\r\n      position: relative;\r\n      width: 100%;\r\n      max-width: 768px;\r\n      margin: auto;\r\n      display: flex;\r\n      font-family: Helvetica, Arial, sans-serif;\r\n      box-sizing: border-box;\r\n    }\r\n    \r\n    #bam-tab-wrapper .tab input {\r\n      display: none;\r\n    }\r\n    \r\n    #bam-tab-wrapper .tab label {\r\n      display: block;\r\n      padding: 0.5em 1.5em;\r\n    }\r\n    \r\n    #bam-tab-wrapper .tab input:checked + label {\r\n      font-weight: bold;\r\n    }\r\n    \r\n    #bam-tab-wrapper .tab-content {\r\n      position: absolute;\r\n      top: 100%;\r\n      left: 0;\r\n      background: white;\r\n      border: 1px solid #ccc;\r\n      padding: 2rem;\r\n      width: 100%;\r\n      display: none;\r\n    }\r\n    \r\n    #bam-tab-wrapper .tab input:checked ~ .tab-content {\r\n      display: block;\r\n    }\r\n\r\n    #bam-header-img {\r\n      max-width: 100%;\r\n    } \r\n  </style>`\r\n\r\n  const html = `<div id=\"bam-tab-wrapper\">\r\n    ${tabs\r\n      .map(\r\n        (tab, i) =>\r\n          `<div class=\"tab\">\r\n        <input type=\"radio\" id=\"${tab.id}\" name=\"active-tab\" ${\r\n            i === 0 ? 'checked ' : ''\r\n          }/>\r\n        <label for=\"${tab.id}\" tabindex=\"0\">${tab.name}</label>\r\n        <div class=\"tab-content\">\r\n          ${\r\n            i === 0\r\n              ? `<img\r\n              id='bam-header-img'\r\n              src='https://i.frg.im/EgARwcjM/ebay-listing-banner.jpg'\r\n              alt='Blues Angel Music - New, Used, Vintage'\r\n            />`\r\n              : ''\r\n          }\r\n          ${tab.content}\r\n        </div>\r\n      </div>`\r\n      )\r\n      .join('')}\r\n  </div>`\r\n\r\n  return `${style}${html}`\r\n}\r\n\r\nexport default App\r\n","import React from 'react'\nimport ReactDOM from 'react-dom'\nimport App from './components/app'\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n)\n"],"sourceRoot":""}